(this.webpackJsonpsolitude=this.webpackJsonpsolitude||[]).push([[0],{35:function(e,t,a){e.exports=a.p+"static/media/logo.f8dd6ad9.png"},39:function(e,t,a){e.exports=a(60)},59:function(e,t,a){},60:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(16),s=a.n(l),c=a(13),m=a(6),i=a(21),o=a.n(i),u=a(11),d=a(32),f=a(14);function p(e){var t=function(){for(var t=[],a=e,n=0;n<3;++n)t.push(a[Math.floor(Math.random()*a.length)]),a=a.filter((function(e){return!t.includes(e)}));return t};return[{visit_count:2,item:t()},{visit_count:5,item:t()},{visit_count:7,item:t()},{visit_count:10,item:t()}]}var E=a(22),h=a(19),b=a(33),v=a(34),N=a(38),y=a(37),g=function(e){return r.a.createElement("div",{className:"row m-0 text-field-container"},r.a.createElement("input",{className:"col-10 col-sm-4 text-field mt-3",type:e.type,value:e.value,name:e.name,onChange:function(t){return e.onChange(t)},required:!0,autoComplete:"off"}),r.a.createElement("span",{className:"placeholder"},e.placeholder),e.error&&r.a.createElement("span",{className:"col-10 px-2 pt-2 error"},e.error))},O=function(e,t,a){return console.log(t),""===(e=e.toLowerCase())?[]:t.filter((function(e){return!a.includes(e)})).filter((function(t){return t.toLowerCase().includes(e)}))},j=function(e){Object(N.a)(a,e);var t=Object(y.a)(a);function a(e){var n;return Object(b.a)(this,a),(n=t.call(this,e)).setField=function(e){console.log(n.props.menu);var t=e.target.value.charAt(0).toUpperCase()+e.target.value.slice(1);n.setState(Object(h.a)({},e.target.name,t)),"itemName"===e.target.name&&n.setState({searchList:O(e.target.value,n.props.menu,n.state.itemsList)})},n.updateItem=function(e){return n.setState({itemsList:[].concat(Object(u.a)(n.state.itemsList),[e]),searchList:[],itemName:"",errors:Object(E.a)(Object(E.a)({},n.state.errors),{},{itemsList:null})})},n.validate=function(){var e={name:null,date:null,itemsList:null};return""===n.state.name?e.name="This field is required":(n.state.name.length<=2||n.state.name.length>15)&&(e.name="Name should have 2 to 15 characters"),""===n.state.date&&(e.date="This field is required"),0===n.state.itemsList.length&&(e.itemsList="You should add atleast 1 dish."),n.setState({errors:e}),null===e.name&&null===e.date&&null===e.itemsList},n.formSubmit=function(){n.validate()&&(n.props.onSubmit(n.state),n.setState({name:"",date:"",itemsList:[]}))},n.state={name:"",date:"",itemName:"",itemsList:[],searchList:[],errors:{name:null,date:null,itemsList:null}},n}return Object(v.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"px-4"},r.a.createElement(g,{type:"text",value:this.state.name,name:"name",placeholder:"Your Name",onChange:this.setField,error:this.state.errors.name}),r.a.createElement(g,{type:"date",value:this.state.date,name:"date",placeholder:"",onChange:this.setField,error:this.state.errors.date}),this.state.itemsList.length>0&&r.a.createElement("ul",{className:"mt-2 mb-0 pb-0"},this.state.itemsList.map((function(e,t){return r.a.createElement("li",{key:t},e)}))),r.a.createElement(g,{type:"text",value:this.state.itemName,name:"itemName",placeholder:"Dish",onChange:this.setField,error:this.state.errors.itemsList}),r.a.createElement("div",{style:{position:"relative",height:"130px"}},this.state.searchList.length>0&&r.a.createElement("div",{className:"row mt-1 dish-list-box"},r.a.createElement("div",{className:"col-10 col-sm-4 p-0"},this.state.searchList.map((function(t,a){return r.a.createElement("button",{key:a,type:"button",className:"py-2 px-3 m-0 dish-name",onClick:function(){return e.updateItem(t)}},t)})))),r.a.createElement("button",{type:"button",className:"btn btn-md btn-light my-3",onClick:this.formSubmit},"View Timeline")))}}]),a}(n.Component),x=a(64),k=a(65),L=a(66),S=a(67),w=a(68),_=a(75),C=a(61),T=a(62),F=a(63),I=function(e){var t=Object(n.useState)(!1),a=Object(f.a)(t,2),l=a[0],s=a[1],c=function(){return s(!l)};return r.a.createElement("div",{style:{color:"red"},className:"p-2 row justify-content-center align-items-center"},r.a.createElement(_.a,{isOpen:l,toggle:c,className:"mx-auto my-4"},r.a.createElement(C.a,{toggle:c},"Your Offer is waiting for you"),r.a.createElement(T.a,{className:"p-2"},r.a.createElement("h3",null,"Select a dish :"),e.items.map((function(e,t){return r.a.createElement("div",{key:t,class:"form-check"},r.a.createElement("label",{class:"form-check-label"},r.a.createElement("input",{type:"radio",class:"form-check-input",name:"optradio"}),r.a.createElement("span",null,e)))}))),r.a.createElement(F.a,null,r.a.createElement("button",{className:"btn btn-md btn-light"},"Redeem"))),r.a.createElement("div",{className:"col-12 redeem-container"},r.a.createElement("p",{className:"pt-2"},e.info),r.a.createElement("ul",{className:"list-unstyled px-2 py-0 mt-0"},e.items.map((function(e,t){return r.a.createElement("li",{key:t},e)}))),e.redeem&&r.a.createElement("button",{className:"btn btn-sm btn-light mt-3",onClick:c},"Redeem")))},M=function(e){return r.a.createElement(x.a,{className:"timeline-card py-2 px-3"},r.a.createElement(k.a,{className:"m-0"},e.date?r.a.createElement(r.a.Fragment,null,"Date : ",r.a.createElement("strong",null,e.date)):"Offer"),r.a.createElement(L.a,{className:"px-0 pt-2"},e.items&&r.a.createElement(r.a.Fragment,null,r.a.createElement(S.a,null,"Items Ordered :"),r.a.createElement(w.a,{className:"m-2"},r.a.createElement("ul",{className:"list-unstyled p-2"},e.items.map((function(e,t){return r.a.createElement("li",{key:t,className:"pb-1 pl-2",style:{borderLeft:"3px solid black"}},e)}))))),e.redeem_info&&r.a.createElement(I,{info:e.redeem_info.info,items:e.redeem_info.items,redeem:e.redeem_info.redeem})))},Y=function(e){return r.a.createElement("div",{className:"timeline-container pt-5"},r.a.createElement("h2",{style:{fontSize:"min(2rem, 6vw)"},className:"pb-3"},e.customer.name,"'s Timeline ,"),r.a.createElement("div",{className:"timeline-card-container"},e.customer.history.map((function(e,t){return r.a.createElement(r.a.Fragment,{key:t},r.a.createElement(M,{date:e.date,items:e.items}),r.a.createElement("div",{className:"timeline-line"}))})),e.customer.redeem_info.info&&r.a.createElement(M,{redeem_info:e.customer.redeem_info})))},q=function(){var e=Object(n.useState)({name:"Solitude",history:[],redeem_info:{info:"",items:[],redeem:!1}}),t=Object(f.a)(e,2),a=t[0],l=t[1],s=Object(n.useState)([]),c=Object(f.a)(s,2),m=c[0],i=c[1],E=Object(n.useState)([]),h=Object(f.a)(E,2),b=h[0],v=h[1],N=Object(n.useState)([]),y=Object(f.a)(N,2),g=y[0],O=y[1];Object(n.useEffect)((function(){function e(){return(e=Object(d.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:8080/customers");case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,i(Object(u.a)(a)),e.next=9,fetch("http://localhost:8080/menu");case 9:return t=e.sent,e.next=12,t.json();case 12:a=e.sent,v(Object(u.a)(a)),O(p(a));case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);return r.a.createElement("div",{className:"body-container"},r.a.createElement("div",{className:"container"},r.a.createElement("h1",{style:{fontSize:"min(7vw, 2rem)"},className:"pt-4 pl-3"},"Solitude Loyalty Program"),r.a.createElement(j,{menu:b,onSubmit:function(e){var t=e.name,n=e.date,r=e.itemsList,s=m.filter((function(e){return e.name===t}))[0],c={},o="",d=[],f=m,p=["st","nd","rd","th"],E=s?s.history.length+1:1;g.every((function(e){return E<e.visit_count?(c={info:"You can avail any 1 of the 3 items on your ".concat(e.visit_count).concat(p[e.visit_count>3?3:e.visit_count-1]," visit"),items:Object(u.a)(e.item),redeem:!1},!1):E!==e.visit_count||(c={info:"Wo Hoo!!You can avail any 1 of the 3 items for free",items:Object(u.a)(e.item),redeem:!0},!1)})),void 0!==s?(a.name===t?(o=t,d=[].concat(Object(u.a)(a.history),[{date:n,items:r}])):(o=t,d=[].concat(Object(u.a)(s.history),[{date:n,items:r}])),f=m.map((function(e){return e.name===o&&(e.history=Object(u.a)(d)),e}))):(o=t,d=[{date:n,items:r}],f.push({name:t,history:d})),l({name:t,history:d,redeem_info:c}),i(Object(u.a)(f))}})),r.a.createElement(Y,{customer:a}))},D=function(){return r.a.createElement("h1",null,"Menu")},H=a(69),R=a(70),U=a(71),z=a(72),B=a(73),J=a(74),A=a(35),P=a.n(A),V=function(){var e=Object(n.useState)(!1),t=Object(f.a)(e,2),a=t[0],l=t[1];return r.a.createElement("div",null,r.a.createElement(H.a,{dark:!0,expand:"md"},r.a.createElement("div",{className:"container"},r.a.createElement(R.a,{href:"/home"},r.a.createElement("img",{className:"logo",src:P.a,alt:"Solitude",height:"60px",width:"60px"}),r.a.createElement("span",null,"SOLITUDE")),r.a.createElement(U.a,{onClick:function(){return l(!a)}}),r.a.createElement(z.a,{isOpen:a,navbar:!0},r.a.createElement(B.a,{navbar:!0,className:"ml-auto"},r.a.createElement(J.a,null,r.a.createElement(c.c,{exact:!0,className:"nav-link",to:"/"},"Home")),r.a.createElement(J.a,null,r.a.createElement(c.c,{exact:!0,className:"nav-link",to:"/menu"},"Menu")))))))},W=function(){return r.a.createElement("div",{className:"footer py-3"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row px-3"},r.a.createElement("div",{className:"col-3"},r.a.createElement("ul",{className:"list-unstyled"},r.a.createElement("li",null,r.a.createElement(c.b,{className:"mb-2",to:"/"},"Home")),r.a.createElement("li",null,r.a.createElement(c.b,{className:"mb-2",to:"/menu"},"Menu")))),r.a.createElement("div",{className:"col-8"},r.a.createElement("h3",null,"Contact Us"),r.a.createElement("div",{className:"pl-4"},r.a.createElement("h5",null,r.a.createElement("span",{className:"fa fa-phone"})," :"," ",r.a.createElement("a",{href:"tel:+911234567890"},"+91 1234567890")),r.a.createElement("h5",null,r.a.createElement("span",{className:"fa fa-envelope"})," :"," ",r.a.createElement("a",{href:"mailto:solitude@gmail.come"},"solitude@gmail.com")),r.a.createElement("h5",null,r.a.createElement("i",{className:"fa fa-map-marker"})," : #1234, Tower No. 9,",r.a.createElement("br",null),"East Block, Taste Treat,",r.a.createElement("br",null),"Solitude Island")))),r.a.createElement("div",{className:"row justify-content-center mt-3 mb-4"},r.a.createElement("span",{className:"fa fa-lg fa-facebook-official mx-4"}),r.a.createElement("span",{className:"fa fa-lg fa-twitter mx-4"}),r.a.createElement("span",{className:"fa fa-lg fa-instagram mx-4"})),r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("p",{className:"mb-1"},"Copyright \xa9 2020, Solitude Restaurant"))))},G=function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"background"}),r.a.createElement(V,null),r.a.createElement(m.d,null,r.a.createElement(m.b,{exact:!0,path:"/",component:q}),r.a.createElement(m.b,{exact:!0,path:"/menu",component:D}),r.a.createElement(m.a,{to:"/",component:q})),r.a.createElement(W,null))};a(57),a(58),a(59);s.a.render(r.a.createElement(c.a,null," ",r.a.createElement(G,null)),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.6fdb9471.chunk.js.map